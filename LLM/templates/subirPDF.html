{% load static %}

<!-- upload.html -->
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>AgentLab — Subir PDF</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  <link rel="stylesheet" href="{% static 'css/upload.css' %}" />
  <meta name="description" content="Página para cargar archivos PDF con estilo moderno y accesible." />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a href="/" class="brand" aria-label="AgentLab, ir al inicio">
        <span class="brand-mark" aria-hidden="true">◎</span>
        <span class="brand-text">AgentLab</span>
      </a>
      <nav class="nav">
        <a href="{% url 'LLM:Home' %}">Cargar</a>
        <a href="{% url 'LLM:Home' %}">Volver al Home</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="section">
      <div class="container narrow">
        <h1>Sube tu <span class="grad">archivo PDF</span></h1>
        <p class="lead">Aceptamos únicamente documentos en formato PDF. Tamaño sugerido: hasta 25&nbsp;MB.</p>

        <form class="upload" method="POST" enctype="multipart/form-data" id="form-pdf">
            {% csrf_token %} 
          <!-- Dropzone accesible: el input ocupa toda el área, captura clic y arrastre -->
          <div class="dropzone" aria-describedby="hint">
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M12 3l4 4h-3v5h-2V7H8l4-4zm-6 9h2v7h12v-7h2v9H6v-9z"/>
            </svg>
            <p class="dz-title">Arrastra y suelta tu PDF aquí<br><span>o haz clic para seleccionarlo</span></p>
            <input
              class="file-input"
              type="file"
              name="archivo"
              id="archivo"
              accept="application/pdf,.pdf"
              required
              aria-label="Seleccionar archivo PDF"
            />
            <small id="hint" class="hint">Solo PDF. Se verificará el tipo también en el servidor.</small>
          </div>

          <label class="field">
            <span>Título (opcional)</span>
            <input type="text" name="titulo" placeholder="Ej.: Términos del contrato" />
          </label>

          <button type="submit" class="btn">Subir PDF</button>

          <!-- Área de mensajes (el backend puede devolver feedback aquí) -->
          <div class="messages" aria-live="polite" id="messages"></div>
          <div class="resultado" aria-live="polite" id="resultado"></div>

        </form>

        <details class="tips">
          <summary>¿Cómo se recibe en el backend?</summary>
          <code>POST /upload (multipart/form-data) → campo: "archivo"</code>
          <p>En Django: <code>request.FILES["archivo"]</code> · En Node/Express (multer): <code>req.file</code></p>
        </details>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <p>© <span id="year"></span> AgentLab</p>
      <ul class="footer-links">
        <li><a href="/">Inicio</a></li>
        <li><a href="#"></a></li>
      </ul>
    </div>
  </footer>
  <!-- Si no usarás JS, puedes poner el año estático -->
   <script>
    window.URLS = {
        subir_pdf_ajax: "{% url 'LLM:subir_pdf_ajax' %}"
    }
   </script>
  <script src="{% static 'js/subirPDF.js' %}"></script>
</body>
</html>
